(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd6a4d46"],{2694:function(t,e,o){"use strict";var r=o("6dde"),a=o.n(r);a.a},"2f21":function(t,e,o){"use strict";var r=o("79e5");t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"3f2a":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("添加")]),t._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.ID)+"\n      ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"sortId",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"url",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.url)+"\n      ")]}}])}),t._v(" "),o("el-table-column",{attrs:{"class-name":"status-col",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("img",{attrs:{src:t.row.img,width:"40px",height:"40px"}})]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"Actions",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(r)}}},[t._v("\n            编辑\n          ")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:"添加",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"url","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",type:"number"},model:{value:t.form.sortId,callback:function(e){t.$set(t.form,"sortId",e)},expression:"form.sortId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"图片","label-width":t.formLabelWidth}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/v1/upload/image","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?o("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onAddSubmit}},[t._v("确 定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"编辑",visible:t.dialogFormVisibleedi},on:{"update:visible":function(e){t.dialogFormVisibleedi=e}}},[o("el-form",{attrs:{model:t.form1}},[o("el-form-item",{attrs:{label:"url","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",type:"number"},model:{value:t.form1.sortId,callback:function(e){t.$set(t.form1,"sortId",e)},expression:"form1.sortId"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"图片","label-width":t.formLabelWidth}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/v1/upload/image","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl1?o("img",{staticClass:"avatar",attrs:{src:t.imgUrl1}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisibleedi=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onUpdateSubmit}},[t._v("确 定")])],1)],1)],1)},a=[],i=(o("55dd"),o("6664")),n={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listLoading:!0,dialogFormVisible:!1,formLabelWidth:"120px",dialogFormVisibleedi:!1,imgUrl:"",imgUrl1:"",form:{url:"",sort:0,img:""},form1:{ID:0,url:"",sort:0,img:""}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(i["f"])().then((function(e){t.list=e.data,t.listLoading=!1}))},onAdd:function(){this.dialogFormVisible=!0},handleAvatarSuccess:function(t,e){this.imgUrl=t.path+t.filename,this.form.img=t.filename,this.form1.img=t.filename,this.imgUrl1=t.path+t.filename,console.log(this.form.img)},beforeAvatarUpload:function(t){var e=t.size/1024/1024<5;return e||this.$message.error("上传头像图片大小不能超过 5MB!"),e},onAddSubmit:function(){var t=this;this.dialogFormVisible=!1,console.log(this.form),this.form.sort=parseInt(this.form.sort);var e=JSON.stringify(this.form);console.log(e),Object(i["a"])(e).then((function(e){t.$message.success("添加成功")}))},handleUpdate:function(t){this.form1.ID=t.ID,this.form1.sort=t.sort,this.form1.img=t.img,this.imgUrl1=t.img,this.dialogFormVisibleedi=!0},onUpdateSubmit:function(){var t=this;this.form1.sort=parseInt(this.form1.sort),Object(i["j"])(this.form1.ID,this.form1).then((function(e){console.log("res:",e),t.$message.success("更新成功"),t.dialogFormVisibleedi=!1}))}}},l=n,s=(o("2694"),o("2877")),u=Object(s["a"])(l,r,a,!1,null,null,null);e["default"]=u.exports},"55dd":function(t,e,o){"use strict";var r=o("5ca1"),a=o("d8e8"),i=o("4bf8"),n=o("79e5"),l=[].sort,s=[1,2,3];r(r.P+r.F*(n((function(){s.sort(void 0)}))||!n((function(){s.sort(null)}))||!o("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(i(this)):l.call(i(this),a(t))}})},6664:function(t,e,o){"use strict";o.d(e,"g",(function(){return a})),o.d(e,"b",(function(){return i})),o.d(e,"k",(function(){return n})),o.d(e,"i",(function(){return l})),o.d(e,"d",(function(){return s})),o.d(e,"h",(function(){return u})),o.d(e,"c",(function(){return c})),o.d(e,"l",(function(){return d})),o.d(e,"f",(function(){return f})),o.d(e,"a",(function(){return m})),o.d(e,"j",(function(){return b})),o.d(e,"e",(function(){return p}));var r=o("b775");function a(t){return Object(r["a"])({url:"/v1/category",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/v1/category",method:"post",data:t})}function n(t,e){return Object(r["a"])({url:"/v1/category/"+t,method:"put",data:e})}function l(t){return Object(r["a"])({url:"/v1/typ",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/v1/typ",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/v1/shifu",method:"get",params:t})}function c(t){return Object(r["a"])({url:"/v1/shifu",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/v1/upload/image",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}function f(t){return Object(r["a"])({url:"/v1/brand",method:"get",params:t})}function m(t){return Object(r["a"])({url:"/v1/brand",method:"post",data:t})}function b(t,e){return Object(r["a"])({url:"/v1/brand/"+t,method:"put",data:e})}function p(t){return Object(r["a"])({url:"/v1/arean",method:"get",data:t})}},"6dde":function(t,e,o){}}]);